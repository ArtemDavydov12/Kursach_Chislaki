x = [0.0000000e+00, 1.0000000e+00, 2.0000000e+00, 3.0000000e+00, 4.0000000e+00, 5.0000000e+00, 6.0000000e+00, 7.0000000e+00, 8.0000000e+00, 9.0000000e+00, 1.0000000e+01, 1.1000000e+01, 1.2000000e+01, 1.3000000e+01, 1.4000000e+01, 1.5000000e+01, 1.6000000e+01, 1.7000000e+01, 1.8000000e+01, 1.9000000e+01, 2.0000000e+01, 2.1000000e+01, 2.2000000e+01, 2.3000000e+01, 2.4000000e+01, 2.5000000e+01, 2.6000000e+01, 2.7000000e+01, 2.8000000e+01, 2.9000000e+01, 3.0000000e+01, 3.1000000e+01, 3.2000000e+01, 3.3000000e+01, 3.4000000e+01, 3.5000000e+01, 3.6000000e+01, 3.7000000e+01, 3.8000000e+01, 3.9000000e+01, 4.0000000e+01, 4.1000000e+01, 4.2000000e+01, 4.3000000e+01, 4.4000000e+01, 4.5000000e+01, 4.6000000e+01, 4.7000000e+01, 4.8000000e+01, 4.9000000e+01, 5.0000000e+01];
y = [-2.4053556e-01, 4.2755173e-01, 9.7885081e-01, 1.4025689e+00, 1.9213150e+00, 2.1361246e+00, 2.3464787e+00, 2.5781113e+00, 2.3362938e+00, 1.5467273e+00, 9.7364900e-01, 1.2562347e+00, 1.6512206e-01, 6.2186667e-02, -4.6887969e-01, -4.8356800e-01, -1.4298244e+00, -1.8861701e+00, -1.9809178e+00, -2.1204277e+00, -2.1761522e+00, -2.2168780e+00, -2.1239836e+00, -1.4510688e+00, -1.3946434e+00, -8.4179465e-01, 1.9788935e-01, 3.3804363e-01, 8.9985109e-01, 1.5758496e+00, 1.6800449e+00, 2.2406186e+00, 2.0908728e+00, 2.4180239e+00, 2.2362430e+00, 1.8332543e+00, 1.3642164e+00, 9.1061823e-01, 6.0076389e-01, 4.6020769e-02, -4.7342727e-01, -6.7108490e-01, -1.4060311e+00, -1.4651561e+00, -2.1115378e+00, -1.9440952e+00, -2.3127245e+00, -2.0727634e+00, -1.6907833e+00, -1.6789898e+00, -1.2768799e+00];
w=0:0.001:0.5;
F=zeros(1,length(w));
W = 0;

 %plot(w,F);
 %hold on
 %z = w.*0;
 %plot(w, z)

for i=1:length(w)
    sW1=sum(y.*sin(w(i).*x));
    sW2=sum(sin(w(i).*x).*cos(w(i).*x));
    sW3=sum((sin(w(i).*x)).^2);
    sW4=sum(y.*cos(w(i).*x)); 
    F(i)=sW1*sW2-sW3*sW4;
end
for k = 1:length(w)-1
    if W == 0 % Чтобы не брать в расчет дребезг (места с незначительным пересечением нуля)
        if F(k)*F(k+1) < 0 % Место где производная пересекает 0 
            W = (w(k)+w(k+1))/2; 
        end
    end
end

sA1 = sum(y.*sin(W.*x));
sA2 = sum(sin(W.*x).^2);
A = sA1/sA2;

x_true = 0:0.01:50;
y_true = A*sin(W.*x_true);
plot(x,y, 'o', x_true,y_true);